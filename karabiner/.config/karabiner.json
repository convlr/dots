{
	"global": { "show_in_menu_bar": false },
	"profiles": [
		{
			"complex_modifications": {
				"parameters": { 
					"basic.simultaneous_threshold_miliseconds": 50
			},
				"rules": [
					{
						"description": "Hyper Key (⌃⌥⇧⌘)",
						"manipulators": [
							{
								"description": "Caps Lock -> Hyper Key",
								"from": {
									"key_code": "caps_lock",
									"modifiers": { "optional": ["any"] }
								},
								"to": [
									{
										"set_variable": {
											"name": "hyper",
											"value": 1
										}
									}
								],
								"to_after_key_up": [
									{
										"set_variable": {
											"name": "hyper",
											"value": 0
										}
									}
								],
								"to_if_alone": [{ "key_code": "escape" }],
								"type": "basic"
							}
						]
					},
					{
						"description": "Hyper key sublayer e",
						"manipulators": [
							{
								"description": "Toggle Hyper sublayer e",
								"conditions": [
									{
										"name": "hyper",
										"type": "variable_if",
										"value": 1
									},
									{
										"name": "hyper_sublayer_w",
										"type": "variable_if",
										"value": 0
									}
								],
								"from": {
									"key_code": "e",
									"modifiers": {
										"optional": ["any"]
									}
								},
								"to": [
									{
										"set_variable": {
										"name": "hyper_sublayer_e",
										"value": 1
										}
									}
								],
								"to_after_key_up": [
									{
										"set_variable": {
											"name": "hyper_sublayer_e",
											"value": 0
										}
									}
								],
								"type": "basic"
							},
							{
								"description": "Open Safari",
								"conditions": [
									{
										"name": "hyper_sublayer_e",
										"type": "variable_if",
										"value": 1
									}
								],
								"from": {
									"key_code": "k",
									"modifiers": {
										"optional": ["any"]
									}
								},
								"to": [
									{
										"shell_command": "open -a Safari"
									}
								],
								"type": "basic"
							},
							{
								"description": "Open Ghostty",
								"conditions": [
									{
										"name": "hyper_sublayer_e",
										"type": "variable_if",
										"value": 1
									}
								],
								"from": {
									"key_code": "j",
									"modifiers": {
										"optional": ["any"]
									}
								},
								"to": [
									{
										"shell_command": "open -a Ghostty.app"
									}
								],
								"type": "basic" 
							},
							{
								"description": "Open Zen",
								"conditions": [
									{
										"name": "hyper_sublayer_e",
										"type": "variable_if",
										"value": 1
									}
								],
								"from": {
									"key_code": "l",
									"modifiers": {
										"optional": ["any"]
									}
								},
								"to": [
									{
										"shell_command": "open -a Zen.app"
									}
								],
								"type": "basic" 
							},
							{
								"description": "Open Spotify",
								"conditions": [
									{
										"name": "hyper_sublayer_e",
										"type": "variable_if",
										"value": 1
									}
								],
								"from": {
									"key_code": "o",
									"modifiers": {
										"optional": ["any"]
									}
								},
								"to": [
									{
										"shell_command": "open -a 'Spotify (old).app'"
									}
								],
								"type": "basic" 
							},
							{
								"description": "Open VS Code",
								"conditions": [
									{
										"name": "hyper_sublayer_e",
										"type": "variable_if",
										"value": 1
									}
								],
								"from": {
									"key_code": "n",
									"modifiers": {
										"optional": ["any"]
									}
								},
								"to": [
									{
										"shell_command": "open -a 'Visual Studio Code.app'"
									}
								],
								"type": "basic" 
							},

							{
								"description": "Open Mullvad",
								"conditions": [
									{
										"name": "hyper_sublayer_e",
										"type": "variable_if",
										"value": 1
									}
								],
								"from": {
									"key_code": "m",
									"modifiers": {
										"optional": ["any"]
									}
								},
								"to": [
									{
										"shell_command": "open -a 'Mullvad Browser.app'"
									}
								],
								"type": "basic" 
							}
						]
					},
					{
					  "description": "Hyper Key sublayer w",
					  "manipulators": [
						{
							"conditions": [
							{
								"name": "hyper",
								"type": "variable_if",
								"value": 1
							},
							{
								"name": "hyper_sublayer_e",
								"type": "variable_if",
								"value": 0
							}
							],
							"description": "Toggle Hyper sublayer w",
							"from": {
							"key_code": "w",
							"modifiers": {
								"optional": ["any"]
							}
							},
							"to": [
							{
								"set_variable": {
								"name": "hyper_sublayer_w",
								"value": 1
								}
							}
							],
							"to_after_key_up": [
							{
								"set_variable": {
								"name": "hyper_sublayer_w",
								"value": 0
								}
							}
						],
						"type": "basic"	
					},

					{
						"conditions": [
                  {
                    "name": "hyper_sublayer_w",
                    "type": "variable_if",
                    "value": 1
                  }
                ],
                "description": "Window: left-half",
                "from": {
                  "key_code": "h",
                  "modifiers": {
                    "optional": ["any"]
                  }
                },
                "to": [
                  {
                    "shell_command": "open -g rectangle://execute-action?name=left-half"
                  }
                ],
                "type": "basic"
              },

              {
                "conditions": [
                  {
                    "name": "hyper_sublayer_w",
                    "type": "variable_if",
                    "value": 1
                  }
								],
                "description": "Window: right-half",
                "from": {
                  "key_code": "l",
                  "modifiers": {
                    "optional": ["any"]
                  }
                },
                "to": [
                  {
                    "shell_command": "open -g rectangle://execute-action?name=right-half"
                  }
                ],
                "type": "basic"
							},

							{
								"conditions": [
                  {
                    "name": "hyper_sublayer_w",
                    "type": "variable_if",
                    "value": 1
                  }
                ],
                "description": "Window: center-half",
                "from": {
                  "key_code": "j",
                  "modifiers": {
                    "optional": ["any"]
                  }
                },
                "to": [
                  {
                    "shell_command": "open -g rectangle://execute-action?name=center-half"
                  }
                ],
                "type": "basic"
              },
              {
                "conditions": [
                  {
                    "name": "hyper_sublayer_w",
                    "type": "variable_if",
                    "value": 1
                  }
								],
								"description": "Window: maximize",
                "from": {
                  "key_code": "return_or_enter",
                  "modifiers": {
                    "optional": ["any"]
                  }
                },
                "to": [
                  {
                    "shell_command": "open -g rectangle://execute-action?name=maximize"
                  }
                ],
                "type": "basic"
              },
              {
                "conditions": [
                  {
                    "name": "hyper_sublayer_w",
                    "type": "variable_if",
                    "value": 1
                  }
                ],
                "description": "Window: almost maximize",
                "from": {
                  "key_code": "spacebar",
                  "modifiers": {
                    "optional": ["any"]
                  }
								},
								"to": [
                  {
                    "shell_command": "open -g rectangle://execute-action?name=almost-maximize"
                  }
                ],
                "type": "basic"
              },
              {
                "conditions": [
                  {
                    "name": "hyper_sublayer_w",
                    "type": "variable_if",
                    "value": 1
                  }
                ],
                "description": "Window: first three fourths",
                "from": {
                  "key_code": "n",
                  "modifiers": {
                    "optional": ["any"]
                  }
                },
                "to": [
                  {
                    "shell_command": "open -g rectangle://execute-action?name=first-three-fourths"
                  }
                ],
								"type": "basic"
							},
              {
                "conditions": [
                  {
                    "name": "hyper_sublayer_w",
                    "type": "variable_if",
                    "value": 1
                  }
                ],
                "description": "Window: Next Display",
                "from": {
                  "key_code": "u",
                  "modifiers": {
                    "optional": ["any"]
                  }
                },
                "to": [
                  { "key_code": "right_arrow", "modifiers": ["control"] }
                ],
								"type": "basic"
							}
						]
					}
				]
			},
			"virtual_hid_keyboard": { "keyboard_type_v2": "ansi" }	
		}
	]
}
